<!DOCTYPE HTML>
<!--
	Dimension by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html lang="kr">
<head>
    <title>북극곰은콜라 MainPage</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="assets/css/main.css"/>
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css"/>
    </noscript>
</head>
<body class="is-preload">

<!-- Wrapper -->
<div id="wrapper">

    <!-- Header -->
    <header id="header">
        <div class="logo">
            <span class="icon fa-gem"></span>
        </div>
        <div class="content">
            <div class="inner">
                <h1>공사중입니다</h1>
                <p>조만간 오픈예정입니다. (아닐지도?)</p>
                <p>
                    <a href="https://p-bear.tistory.com/category/%EA%B8%B0%ED%9A%8D%20%EA%B0%9C%EB%B0%9C/%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%8A%A4%ED%8A%B8%EB%A6%AC%EB%B0%8D%20%EC%84%9C%EB%B9%84%EC%8A%A4%20%28feat.%20%EB%B8%94%EB%A6%AC%EC%9E%90%EB%93%9C%29">진행상황</a>
                </p>
            </div>
        </div>
        <nav>
            <ul>
				<li><a href="auth/login-page.html">Login</a></li>
                <li><a href="#myPage">MY PAGE</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main -->
    <div id="main">

        <!-- My Page -->
        <article id="myPage">
            <h2 class="major">내정보</h2>
            <blockquote>북극곰은콜라에 가입되어있습니다. 각종 서비스 구현 예정</blockquote>
            <hr/>
            <a class="button" onclick="googleLogin()">Google 연동</a>
        </article>

    </div>

    <!-- Footer -->
    <footer id="footer">
        <p class="copyright">server maintained by 북극곰은콜라.</p>
        <p class="copyright">&copy; Untitled. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
    </footer>

</div>

<!-- BG -->
<div id="bg"></div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
<script>
    window.onload = function () {
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('access_token') != null) {
            window.localStorage.setItem('main_access_token', urlParams.get('access_token'));
        }


    }

    function googleLogin() {
        const accessToken = window.localStorage.getItem('main_access_token');
        if (accessToken === null) {
            alert('로그인을 먼저 해야합니다.')
            return;
        }

        const google_authorize_url = 'https://accounts.google.com/o/oauth2/auth';
        const google_client_id = '358875882587-1lfij93q6g80hf4fdlnkkq0bjp2lehku.apps.googleusercontent.com';
        const google_redirect_uri = 'https://p-bear.duckdns.org/auth/google.html';
        const scope = 'https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/calendar';

        const query = {
            "response_type": "code",
            "client_id": google_client_id,
            "state": "xyz",
            "redirect_uri": google_redirect_uri,
            "scope": scope,
            "access_type": "offline"
        };

        window.location.href = google_authorize_url + "?" + jQuery.param(query);
    }
</script>

</body>
</html>
